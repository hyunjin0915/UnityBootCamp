### ì˜¤ì „ ë™ì•ˆ ì§„í–‰í•  ì‘ì—…

1. ë§µ ë°°ì¹˜
2. í”Œë ˆì´ì–´ ë°°ì¹˜
3. ëª¬ìŠ¤í„° ì†Œí™˜
4. íˆ¬ì‚¬ì²´ ë‚ ë¦¬ê¸°
5. í”¼ê²© ì‹œ ì§„í–‰í•  ì´ë²¤íŠ¸

---

ëª¬ìŠ¤í„° ì†Œí™˜ì‹œ ë„ˆë¬´ ë§ì€ í´ë¡ ì´ ë§Œë“¤ì–´ì§

â†’ ì˜¤ë¸Œì íŠ¸ í’€ë§ì„ í†µí•´ ê°œì„ 

# ğŸª£ ì˜¤ë¸Œì íŠ¸ í’€ë§(Object Pooling)

https://unity.com/kr/how-to/use-object-pooling-boost-performance-c-scripts-unity

= ì˜¤ë¸Œì íŠ¸ë¥¼ poolì— ë§Œë“¤ì–´ë‘ê³ . **í•„ìš”í•  ë•Œë§ˆë‹¤ ì•ˆì— ìˆëŠ” ê°ì²´ë¥¼ êº¼ë‚´ì„œ ì‚¬ìš©**í•˜ëŠ” ë°©ì‹

- ë§¤ë²ˆ ì‹¤ì‹œê°„ìœ¼ë¡œ íŒŒê´´, ìƒì„±í•˜ëŠ” ê²ƒë³´ë‹¤ CPUì˜ ë¶€ë‹´ì„ ì¤„ì¼ ìˆ˜ ìˆìŒ
    - ê°ì²´ê°€ í•„ìš”í•  ë•Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¨¼ì € ì¸ìŠ¤í„´í™” í•  í•„ìš”X
- ë¯¸ë¦¬ í• ë‹¹í•´ë‘ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ë¥¼ í¬ìƒí•´ì„œ ì„±ëŠ¥ì„ ë†’ì´ëŠ” ë°©ì‹

## ë©”ëª¨ë¦¬ ê´€ë ¨,,

â¡ï¸ GCë¥¼ ì‹¤í–‰í•˜ëŠ” ë°ì— í•„ìš”í•œ ë©”ëª¨ë¦¬ ê´€ë¦¬ ë¹„ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆìŒ

(ê´€ë¦¬ë˜ëŠ” ë©”ëª¨ë¦¬ í• ë‹¹í•˜ëŠ” ë°ì— CPU ì‹œê°„ â†‘, ì´ë¡œ ì¸í•´ CPUê°€ ì‘ì—… ì™„ë£Œí•  ë•Œê¹Œì§€ ë‹¤ë¥¸ ì‘ì—… ì¤‘ë‹¨,, â†’ ëŸ°íƒ€ì„ ì„±ëŠ¥ ì˜í–¥ O)

## ğŸ› ï¸ ì‹¤ìŠµ

### Manager.cs

ì•ìœ¼ë¡œ ë§Œë“¤ ëª¨ë“  ë§¤ë‹ˆì €ì— ëŒ€í•œ ì—°ê²°ì 

í•´ë‹¹ ë§¤ë‹ˆì €ì— ëŒ€í•œ ì ‘ê·¼(Propertyë¡œ êµ¬í˜„)

- CreateFromPath() í•¨ìˆ˜
    
    

### PoolManager.cs

1. `IPool ì¸í„°í˜ì´ìŠ¤` ì„¤ê³„
    
    = Poolì— ëŒ€í•œ í‹€ì„ ì œê³µí•˜ëŠ” ìš©ë„
    
    - íŠ¸ëœìŠ¤í¼(í’€ ì—°ê²° ìœ„ì¹˜)
    - í(í’€ êµ¬í˜„)
    - ëª¬ìŠ¤í„° í•˜ë‚˜ ì–»ì–´ì˜¤ëŠ” ê¸°ëŠ¥
    - ë°˜ë‚©í•˜ëŠ” ê¸°ëŠ¥
2. `ObjectPool í´ë˜ìŠ¤` ì„¤ê³„ : IPool
    
    ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ìœ¼ë¡œ ê¸°ëŠ¥ ì„¤ê³„ ì™„ë£Œ
    
3. Pool Manager ë©¤ë²„(ë³€ìˆ˜, í•¨ìˆ˜) ì„¤ê³„
    
    string, IPoolì„ key, valueë¡œ ê°€ì§€ëŠ” dictionary ë“±ë¡
    
    ê²½ë¡œë¥¼ ì „ë‹¬ë°›ì•„ í‚¤ë¥¼ ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜ êµ¬í˜„ 
    
    ê²½ë¡œë¥¼ ì „ë‹¬ë°›ì•„ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  ì§€ì •ëœ íŠ¸ëœìŠ¤í¼ ìª½ì— ì—°ê²°í•´ì£¼ëŠ” í•¨ìˆ˜ êµ¬í˜„ 
    

â—ê²½ë¡œì— ëŒ€í•œ ì •ë³´ë¡œ ì„¤ê³„ë¥¼ ì§„í–‰í•´ì„œ ë§¤ë‹ˆì € ìª½ì— ì¶”ê°€ ì½”ë“œ ì‘ì„±

- `GetGameObject()` í•¨ìˆ˜
    
    í(pool)ì—ì„œ êº¼ë‚´ì˜¤ê³  SetActive(true)
    ì „ë‹¬ ë°›ì€ ì•¡ì…˜ì´ ìˆë‹¤ë©´ ì‹¤í–‰
    êº¼ë‚´ì˜¨ GameObject ë¥¼ ë¦¬í„´ 
    

### Spawner.cs

- ëª¬ìŠ¤í„°, í”Œë ˆì´ì–´ ê°œì²´ë“¤ ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬
- `IEnumerator SpawnMonsterPooling()` ì½”ë£¨í‹´ í•¨ìˆ˜
    
    ```csharp
    var go = Manager.POOL.PoolObject("Almond").GetGameObject((value) =>
    {
        value.transform.position = pos;
        value.transform.LookAt(Vector3.zero);
    });
    ```
    
    - `PoolObject`
        
        PoolManager í´ë˜ìŠ¤ì—ì„œ Pool Dictionaryì— í•´ë‹¹ í‚¤ê°€ ì—†ëŠ” ê²½ìš° ì¶”ê°€,
        íì— ì—†ëŠ” ê²½ìš° ì¶”ê°€ í›„ í•´ë‹¹ í’€(ì¸í„°í˜ì´ìŠ¤)ë¥¼ ë¦¬í„´
        
    
- `IEnumerator ReturnMonsterPooling()` ì½”ë£¨í‹´ í•¨ìˆ˜
    
    ```csharp
    IEnumerator ReturnMonsterPooling(GameObject ob)
    {
        yield return new WaitForSeconds(1.0f);
        Manager.POOL.pool_dict["Almond"].ObjectReturn(ob);
    }
    ```
    
    - Poolingí•œ ê°’ì— ëŒ€í•œ ë¦¬í„´ì„ í•´ì£¼ëŠ” ì½”ë“œ
    (ì‹¤í–‰í•˜ë©´ ê³„ì† ì—†ì–´ì§)

### ì• ë‹ˆë©”ì´ì…˜ ì ìš©

![Image](https://github.com/user-attachments/assets/6221bbe3-307c-4486-83ee-deb8514ec384)

- Animatorì— ì ë‹¹í•œ Parameter ì„¤ì •í•´ì„œ ì ìš©í•˜ê¸°
- ì¸ìŠ¤í™í„° ì°½ì—ì„œ í•¨ìˆ˜ ì´ë¦„ìœ¼ë¡œ ì´ë²¤íŠ¸ ë“±ë¡í•  ìˆ˜ ìˆìŒ!
    
    (í•¨ìˆ˜ëŠ” í•´ë‹¹ Animator ì ìš© ì¤‘ì¸ ê²Œì„ì˜¤ë¸Œì íŠ¸ì˜ ìŠ¤í¬ë¦½íŠ¸ì— ì‘ì„±)
    
    â†’ ì´ê±° ì œëŒ€ë¡œ ì•ˆ ëŒì•„ê°.. ìˆ˜ì • í•„ìš”..ã… ã… 
