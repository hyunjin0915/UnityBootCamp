- OOPë¥¼ ì´ìš©í•œ 2D ë Œë”ë§ ì—”ì§„ ë§Œë“¤ê¸° 6
- Component ë¡œ ì—”ì§„ ë³€ê²½ ë² ì´ìŠ¤ ë³€ê²½
- Sprite ì²˜ë¦¬

---

### ì„ í˜•ë³´ê°„ì´ 1ë³´ë‹¤ ì»¤ì§€ë©´?

ë³´ê°„ ê³„ìˆ˜ t ê°€ 1ë³´ë‹¤ í¬ë©´ ëª©í‘œ ê°’ì„ ì´ˆê³¼í•˜ëŠ” ê°’ì´ ë‚˜ì˜´

â†’ ì´ë¥¼ **ì™¸ì‚½(Extrapolaion)**ì´ë¼ í•¨

â¡ï¸ Clamp í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ tê°’ì˜ ë²”ìœ„ë¥¼ 0-1 ì‚¬ì´ë¡œ ì œí•œí•˜ë©´ ë¨

## ì¹´ë©”ë¼

### ì ˆë‘ì²´(frustum culling)

https://blog.naver.com/sipack7297/220438495355

### FOV

https://giseung.tistory.com/48

- ì´ ê°’ì´ ì»¤ì§ˆìˆ˜ë¡ â†’ ë„“ì€ ë²”ìœ„ë¥¼ í™”ë©´ì—
- ìœ ë‹ˆí‹° ê¸°ë³¸ê°’ 60(= ìˆ˜ì§ ì‹œì•¼ê°, VFOV)
- `(ê°€ë¡œí¬ê¸°/ ì„¸ë¡œí¬ê¸°) * FOV = ìˆ˜í‰ ì‹œì•¼ê°(HOV)`

### LOD

= Level Of Detail

ì•„ì£¼ ë©€ë¦¬ ìˆëŠ” ë¬¼ì²´ëŠ” polygon ìˆ˜ë¥¼ ì¤„ì¸ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ ìµœì í™”í•˜ëŠ” ê²ƒì„ ë§í•¨

(ì‚¬ëŒì´ í•¨)

### Occlusion Culling

https://docs.unity3d.com/kr/530/Manual/OcclusionCulling.html

- ì‹¤ì‹œê°„ ë Œë”ë§ì€ ê·¸ëŸ´ë“¯í•´ ë³´ì´ë„ë¡ ë§Œë“œëŠ” ê²ƒ,,
    - ë¹› ê³„ì‚°ì„ ë‹¨ìˆœí™” + ì¶”ê°€ ì‘ì—…
    - ë¬¼ë¦¬ì  ê³µì‹ì„ ë‹¨ìˆœí™”í•œ ê²ƒ

## ë¬¼ë¦¬ ê¸°ë°˜ ë Œë”ë§

### ë¹›

ìœ ë‹ˆí‹° ì´ì „ ë¹› ê³µì‹(Legacy)

### ë¨ë²„íŠ¸ ê³µì‹  + blinn + phong ë°˜ì‚¬

https://en.wikipedia.org/wiki/Blinn%E2%80%93Phong_reflection_model

### brdf

https://ko.wikipedia.org/wiki/%EC%96%91%EB%B0%A9%ED%96%A5%EB%B0%98%EC%82%AC%EB%8F%84%EB%B6%84%ED%8F%AC%ED%95%A8%EC%88%98

- ë¬¼ì²´ê°€ ê¸ˆì†ì¸ì§€ ì•„ë‹Œì§€ ê³„ì‚°
    
    (ìœ ë‹ˆí‹°ì— **metalic map** |  https://docs.unity3d.com/kr/560/Manual/StandardShaderMaterialParameterMetallic.html)
    

## Tween (ITween - Unity)

- ì˜¤ë¸Œì íŠ¸ì˜ ì‹œê°„ë‹¹ ë³€í™”
- ìˆ˜í•™ ê³µì‹ìœ¼ë¡œ Tween êµ¬í˜„
- **ui** ì— ë§ì´ ì‚¬ìš©ë¨
- (ì• ë‹ˆë©”ì´ì…˜ Component ì´ìš©)

---

## BMP ì´ë¯¸ì§€ ë¶ˆëŸ¬ì™€ì„œ ì ìš©í•˜ê¸°

### BMP

https://www.adobe.com/kr/creativecloud/file-types/image/comparison/bmp-vs-jpeg.html

= ë¬´ì†ì‹¤ ë¬´ì••ì¶• ê·¸ë¦¼ íŒŒì¼ í¬ë§· 

ì‹¤í–‰í•  ë•ŒëŠ” ì••ì¶•ì´ ë‹¤ í’€ë ¤ì„œ ë“¤ì–´ê°

`IntPtr tempSurface =  SDL.SDL_LoadBMP(filename);`

ë©”ëª¨ë¦¬ì— ìˆëŠ” ê±¸ ë°”ë¡œ GPUë¡œ ê·¸ë¦´ ìˆ˜ ì—†ìŒ

`IntPtr myTexture = 
      SDL.SDL_CreateTextureFromSurface(Engine.Instance.myRenderer, tempSurface);`

RAMì— ì˜¬ë¼ê°„ ì´ë¯¸ì§€ë¥¼ GPU, VRAMìœ¼ë¡œ ê°€ì ¸ì˜¤ë©´ **Texture**ë¡œ ìš©ì–´ê°€ ë°”ë€œ

+) ì• ë‹ˆë©”ì´ì…˜ ê³„ì‚°ë„ ë‹¤ GPUë¡œ í•¨

### ì´ë¯¸ì§€ ë’¤ì˜ í°ìƒ‰ ë°°ê²½ ì•ˆ ê·¸ë¦¬ê²Œ í•˜ê¸°

Color key ì„¤ì •í•´ì¤˜ì•¼ í•¨ (ì´ ìƒ‰ì€ GPUë¡œ ì˜®ê¸°ì§€ ë§ë¼ëŠ” ì„¤ì •)

`SDL.SDL_SetColorKey(mySurface, 1, SDL.SDL_MapRGB(surface->format, 255, 255, 255));`

ìœ ë‹ˆí‹°ëŠ” ì´ˆë¡ìƒ‰ ë°°ê²½! (Chroma key - shader ì—ì„œ ëºŒ )

ë³´í†µ íˆ¬ëª… ëº„ ë•Œ Color Keyë¡œ í°ìƒ‰ë³´ë‹¤ ë§ˆì  íƒ€ ìƒ‰ìƒì„ ë§ì´ ì‚¬ìš©í•¨

â¡ï¸GameObject í´ë˜ìŠ¤ì— colorKey ë©¤ë²„ë³€ìˆ˜ ë§Œë“¤ì–´ì„œ Player í´ë˜ìŠ¤ì˜ color key ê°’ ìˆ˜ì •

## í”Œë ˆì´ì–´ ì´ë¯¸ì§€

### Sprite

![image.png](attachment:33291e3f-4f7c-44c8-9fe6-d602418ff53c:image.png)

https://namu.wiki/w/%EC%8A%A4%ED%94%84%EB%9D%BC%EC%9D%B4%ED%8A%B8(%EC%BB%B4%ED%93%A8%ED%84%B0%20%EA%B7%B8%EB%9E%98%ED%94%BD)

= 2ì°¨ì› ë¹„íŠ¸ë§µ ê°œì²´ 

- **Sprite shee**të¥¼ ì˜ë¼ì„œ ì‚¬ìš©

+) TextureëŠ” 3D ê³µê°„ì—ì„œ ë¬¼ì²´ë¥¼ ìƒ‰ì¢…ì´ì²˜ëŸ¼ ì‹¸ëŠ” ì—­í•  

+) UI ëŠ” ë¬´ì¡°ê±´ **Point(no filter) ì˜µì…˜** ì„ íƒ!!

### í”Œë ˆì´ì–´ ì´ë¯¸ì§€ í•œ ì¹¸ì”© ê°€ì ¸ì™€ì„œ ì• ë‹ˆë©”ì´ì…˜ ì ìš©í•˜ê¸°

spriteIndex ë¡œ í”„ë ˆì„ë§ˆë‹¤ ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°

<aside>
âš ï¸

ì „ë¶€ GameObject class ì— ë„£ì–´ ë†“ìœ¼ë©´ 
í•´ë‹¹ ê¸°ëŠ¥, ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ìì‹ í´ë˜ìŠ¤ë“¤ë„ ì „ë¶€ ìƒì† ë°›ê²Œ ë˜ëŠ” ë¬¸ì œ

</aside>

**Entity** ë§Œ GameObject ì—ì„œ í•˜ê³ / **ê¸°ëŠ¥**ì€ Component ë¡œ ì œì‘í•´ì„œ

GameObject ì—ì„œ ë„£ì—ˆë‹¤ê°€ ëºë‹¤ê°€ í•  ìˆ˜ ìˆê²Œ ìˆ˜ì •

(GameObject ëŠ” Component ë¦¬ìŠ¤íŠ¸ë¥¼ ê°–ê³  ìˆìŒ)

GameObject ì˜ Update(), Render()â€¦ â†’ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì˜ Update(), Render()â€¦ ì‹¤í–‰í•´ì¤˜

**virtual í‚¤ì›Œë“œë¥¼ ë§ì´ ì‚¬ìš©í•˜ë©´ ì†ë„ê°€ ëŠë ¤ì§**

Component Class ì—ì„œ Render í•¨ìˆ˜ë¥¼ virtual?

â†’ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ Render() ê¸°ëŠ¥ì´ í•„ìš”í•˜ì§€ëŠ” ì•ŠìŒ

â†’ abstract ìƒì† ë§ê³  **ë‹¤ë¥¸ ë°©ë²•**ì´ í•„ìš”í•¨ 

# ğŸ”§ Component Baseë¡œ ìˆ˜ì •í•˜ê¸°

### ì‹¤í–‰ íŒŒì¼ì˜ ìƒìœ„ í´ë” ì´ë¦„ì„ ê°€ì ¸ì™€ì„œ Data íŒŒì¼ ë¡œë”© ë˜ë„ë¡ ìˆ˜ì •

â†’ bin í´ë”ë§ê³  í”„ë¡œì íŠ¸ í´ë”ì— Data í´ë”ë¥¼ ë„£ê¸° ìœ„í•´ì„œ 

```csharp
string projectFolder = Directory.GetParent(Environment.CurrentDirectory).Parent.FullName;
LoadBMP(projectFolder+"/Data/"+inFilename);
```

# Class

---

<aside>
ğŸ”·

## Component

- ì¶”ìƒ í´ë˜ìŠ¤

### public virtual void Awake()

### public abstract void Update()

### public T GetComponent<T>() where T : Component

ìœ ë‹ˆí‹°ì—ì„œ Component í´ë˜ìŠ¤ì— ì¡´ì¬í•´ì„œ ì—¬ê¸°ì— ì •ì˜í–ˆìœ¼ë‚˜, ì½”ë“œê°€ ë„ˆë¬´ ê¸¸ì–´ì§

â†’ ì´ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” GetComponent í•¨ìˆ˜ëŠ” GameObject í´ë˜ìŠ¤ë‚´ì— ì •ì˜í•¨

### public GameObject gameObject;

ìœ ë‹ˆí‹°ì—ì„œ Component ë“¤ì€ ìì‹ ë“¤ì´ ë¶™ì–´ìˆëŠ” GameObject ì •ë³´ë¥¼ ë“¤ê³  ìˆìŒ

</aside>

<aside>
ğŸ”·

## GameObject

- `GameObject player = new GameObject();` ì´ëŸ° ì‹ìœ¼ë¡œ ì‹¤ì œë¡œ ìƒì„±ë  í´ë˜ìŠ¤
- ê²Œì„ì˜¤ë¸Œì íŠ¸ ìƒì„±ë˜ë©´ ê¸°ë³¸ìœ¼ë¡œ í•„ìš”í•œ ìš”ì†Œë“¤ì´ ë­”ì§€ ìƒê°í•˜ë©´ì„œ ì¶”ê°€í•´ì£¼ê¸°
    - Transform ì •ë³´, ë””í´íŠ¸ ì´ë¦„(GameObject(1) â€¦)

### public List<Component> components = new List<Component>();

ê²Œì„ì˜¤ë¸Œì íŠ¸ì— ë¶™ì¸ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ List 

### public T AddComponent<T>(T inComponent) where T : Component

ê²Œì„ì˜¤ë¸Œì íŠ¸ì— ì»´í¬ë„ŒíŠ¸ ë¶™ì—¬ì£¼ëŠ” í•¨ìˆ˜

**í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ê²Œì„ì˜¤ë¸Œì íŠ¸ ì •ë³´ë„ ë„£ì–´ì¤˜ì•¼ í•¨!!**

### public Transform transform;

ê²Œì„ì˜¤ë¸Œì íŠ¸ê°€ ìƒì„±ë˜ë©´ Trnsform Component í•˜ë‚˜ê°€ ìƒì„±ë˜ë„ë¡ ìƒì„±ìì— ë„£ì–´ì¤Œ

</aside>

<aside>
ğŸ”·

## Transform : [Component](https://www.notion.so/0310-1b19103cc1eb809aa984e01aa9fd28ef?pvs=21)

### public int X, Y;

ê²Œì„ì˜¤ë¸Œì íŠ¸ì˜ ìœ„ì¹˜ ì •ë³´

### public void Translate(int addX, int addY)

ë§¤ê°œë³€ìˆ˜ ë§Œí¼ ìœ„ì¹˜ ì •ë³´ë¥¼ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜

</aside>

<aside>
ğŸ”·

## SpriteRenderer : [Component](https://www.notion.so/0310-1b19103cc1eb809aa984e01aa9fd28ef?pvs=21)

ë Œë”ë§í•˜ëŠ” ë°ì— í•„ìš”í•œ ë°ì´í„°ë“¤(ëª¨ì–‘, ìƒ‰ìƒ, ì‚¬ì´ì¦ˆâ€¦ )

### public override void Update()

ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ ì—¬ë¶€ì— ë”°ë¼ì„œ sprite ë³€ê²½í•´ì£¼ê¸°

### public virtual void Render()

gameObjectì˜ transform ì˜ ìœ„ì¹˜ê°’ì„ ë°›ì•„ì™€ì„œ

ì‹¤ì œë¡œ Console ê³¼ Screen ì— ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜

### public void LoadBMP(string inFilename, bool inIsAnimation = false)

Engine.cs ì˜ Load() ì—ì„œ spriteRenderer.LoadBMP("player.bmp", true);

í•´ë‹¹ gameObject ì˜ bmp íŒŒì¼ì„ ë¶ˆëŸ¬ì™€ í•´ë‹¹ ì´ë¯¸ì§€ ì •ë³´ë¥¼ ë³€ìˆ˜ì— ì €ì¥

(ì´ë¯¸ì§€ ì •ë³´ëŠ”  [**Render() í•¨ìˆ˜**](https://www.notion.so/0310-1b19103cc1eb809aa984e01aa9fd28ef?pvs=21)ì—ì„œ ì‚¬ìš©)

</aside>

---

## Reflection

ì»´í¬ë„ŒíŠ¸ì— ë­ê°€ ìˆëŠ” ì§€ ì•Œì•„ì•¼ í•´ì„œ ë¦¬í”Œë ‰ì…˜ ì‚¬ìš©

[**RTTI(Run Time Type Information)** - C++(Reflection - C#)](https://www.notion.so/RTTI-Run-Time-Type-Information-C-Reflection-C-1969103cc1eb801ba2f7dbf1f38e59d6?pvs=21) 

- ê°œì²´ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œì£¼ëŠ” ì—­í• 
- ê²Œì„ ì—”ì§„ì—ëŠ” ê¼­ í•„ìš”í•œ ê¸°ëŠ¥
    
    ë§Œì•½ ì–¸ì–´ ì°¨ì›ì—ì„œ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©´ ë”°ë¡œ êµ¬í˜„í•´ì¤˜ì•¼ í•¨
    
    C#ì€ ì§€ì›í•´ì¤Œ(C ++ ì€ X)
    

### ì˜ˆì‹œ

### í•¨ìˆ˜

```csharp
            MethodInfo[] methods = classType.GetMethods(BindingFlags.Public | BindingFlags.Instance 
                                                                     |BindingFlags.NonPublic | BindingFlags.Static);
            foreach (MethodInfo info in methods)
            {
                Console.WriteLine(info.Name);
                if(info.Name.CompareTo("Add") ==0)
                {
                    ParameterInfo[] paramInfos = info.GetParameters();
                    foreach (ParameterInfo paramInfo in paramInfos)
                    {
                        Console.WriteLine(paramInfo.Name); //ë§¤ê°œë³€ìˆ˜ ì •ë³´ 
                    }
                    Object[] param = { 3, 5 };
                    info.Invoke(d, param);
                }
            }

```

- private í•¨ìˆ˜ë„ ì‹¤í–‰ ê°€ëŠ¥

### ë©¤ë²„ ë³€ìˆ˜

```csharp
FieldInfo[] fields = classType.GetFields(BindingFlags.Public | BindingFlags.Instance | BindingFlags.NonPublic | BindingFlags.Static);
foreach (FieldInfo field in fields)
{
    field.SetValue(d, 10);
    Console.WriteLine(field.FieldType + "," + field.Name + "," + field.GetValue(d));
}
```

### í”„ë¡œí¼í‹°

```csharp
PropertyInfo[] propertyInfos = classType.GetProperties(BindingFlags.Public);
foreach (PropertyInfo propertyInfo in propertyInfos)
{
    Console.WriteLine(propertyInfo.Name);
}
```

https://rito15.github.io/posts/memo-cs-reflection/
